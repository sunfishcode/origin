This is similar to the `origin-start` example, but adds `#[thread_local]`
variables and a bunch of asserts to ensure that they're initialized and
mutated properly.
